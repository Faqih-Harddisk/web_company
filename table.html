<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Riwayat & Harga Aset Digital - RL.COMPANY AFVAN DIGITAL</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        background-color: #14141c;
        color: #fff;
        font-family: Arial, sans-serif;
      }
      .table-section {
        max-width: 950px;
        margin: 40px auto;
        background: #23232e;
        border-radius: 20px;
        box-shadow: 0 4px 24px rgba(255, 215, 0, 0.08);
        padding: 32px 24px;
      }
      .section-title {
        text-align: center;
        color: #ffd700;
        font-size: 2rem;
        margin-bottom: 24px;
        letter-spacing: 1px;
        text-shadow: 0 0 10px #ffd70055;
        font-weight: bold;
      }
      .table thead th {
        background: #ffd700 !important;
        color: #23232e !important;
        font-size: 1.1rem;
        letter-spacing: 1px;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
      }
      .table tbody tr:hover {
        background: #33334d !important;
      }
      .table td, .table th {
        vertical-align: middle;
      }
      .buy-link {
        color: #ffd700;
        text-decoration: none;
        font-weight: bold;
        transition: color 0.2s;
      }
      .buy-link:hover {
        color: #fff;
        text-shadow: 0 0 8px #ffd700;
      }
      .back-icon {
        display: flex;
        align-items: center;
        gap: 10px;
        color: #ffd700;
        text-decoration: none;
        font-size: 16px;
        font-weight: bold;
        margin: 20px;
        width: fit-content;
      }
      .back-icon img {
        width: 22px;
        height: 22px;
        filter: drop-shadow(0 0 5px #ffd700);
      }
      .main-footer {
        text-align: center;
        padding: 1rem;
        background-color: #23232e;
        color: #ffd700;
        margin-top: 2rem;
        border-radius: 0 0 20px 20px;
      }
    </style>
  </head>
  <body>
    <a href="buy.html" class="back-icon">
      <img src="images-removebg-preview (1).png" alt="Kembali" />
      Kembali ke Pembelian
    </a>
    <section class="table-section">
      <h2 class="section-title">Tabel Harga Aset Digital</h2>
      <div class="table-responsive mb-5">
        <table class="table table-dark table-hover align-middle mb-0">
          <thead>
            <tr>
              <th>Nama Aset</th>
              <th>Harga Pasar</th>
              <th>Keuntungan</th>
              <th>Beli</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Bitcoin (BTC)</td>
              <td>Rp 700.000.000</td>
              <td style="color:#28a745;">+12.5%</td>
              <td><a href="buy.html" class="buy-link">Beli</a></td>
            </tr>
            <tr>
              <td>Ethereum (ETH)</td>
              <td>Rp 40.000.000</td>
              <td style="color:#28a745;">+9.8%</td>
              <td><a href="buy.html" class="buy-link">Beli</a></td>
            </tr>
            <tr>
              <td>Dogecoin (DOGE)</td>
              <td>Rp 1.000</td>
              <td style="color:#28a745;">+5.3%</td>
              <td><a href="buy.html" class="buy-link">Beli</a></td>
            </tr>
            <tr>
              <td>Tron (TRX)</td>
              <td>Rp 1.500</td>
              <td style="color:#ffc107;">+3.1%</td>
              <td><a href="buy.html" class="buy-link">Beli</a></td>
            </tr>
          </tbody>
        </table>
      </div>

      <h2 class="section-title">Riwayat Pembelian</h2>
      <div class="table-responsive">
        <table class="table table-dark table-hover align-middle mb-0" id="historyTable">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Email</th>
              <th>Nomor Telepon</th>
              <th>Aset</th>
              <th>Jumlah</th>
              <th>Metode Pembayaran</th>
              <th>Tanggal</th>
            </tr>
          </thead>
          <tbody>
            <!-- Data riwayat akan diisi oleh JavaScript -->
          </tbody>
        </table>
      </div>
    </section>
    <footer class="main-footer">
      <p>&copy; 2025 RL.COMPANY AFVAN DIGITAL. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Tampilkan data riwayat dari localStorage
      function getAssetName(asset) {
        switch(asset) {
          case 'bitcoin': return 'Bitcoin (BTC)';
          case 'ethereum': return 'Ethereum (ETH)';
          case 'dogecoin': return 'Dogecoin (DOGE)';
          case 'tron': return 'Tron (TRX)';
          default: return asset;
        }
      }
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      const tbody = document.querySelector('#historyTable tbody');
      if (orders.length === 0) {
        tbody.innerHTML = `<tr><td colspan="7" class="text-center text-warning">Belum ada riwayat pembelian.</td></tr>`;
      } else {
        tbody.innerHTML = orders.map(order => `
          <tr>
            <td>${order.name}</td>
            <td>${order.email}</td>
            <td>${order.phone}</td>
            <td>${getAssetName(order.asset)}</td>
            <td>${order.amount}</td>
            <td>${order.payment.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())}</td>
            <td>${order.date}</td>
          </tr>
        `).join('');
      }
    </script>
  </body>
</html>